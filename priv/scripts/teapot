#!/usr/bin/env elixir

# EAGL Teapot Example Runner
# Demonstrates 3D rendering with switchable shaders

Mix.install([], system_env: [{"MIX_ENV", "dev"}])

# Change to the project directory
project_dir = Path.dirname(__DIR__) |> Path.dirname()
File.cd!(project_dir)

# Compile and run the example
case System.cmd("mix", ["run", "-e", "EAGL.Examples.Teapot.run_example()"],
                stderr_to_stdout: true) do
  {output, 0} ->
    IO.puts(output)
    IO.puts("\n✓ Teapot example completed successfully!")

  {output, exit_code} ->
    IO.puts("✗ Error running teapot example (exit code #{exit_code}):")
    IO.puts(output)
    System.halt(1)
end
